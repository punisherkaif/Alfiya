<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday, Alfiya</title>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Dancing+Script:wght@400;700&family=Playfair+Display:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #F6E8DC;
            --bg-secondary: #EED6C4;
            --accent: #D4A373;
            --text-primary: #5A3E36;
            --text-secondary: #7A5C4F;
            --shadow: rgba(90, 62, 54, 0.15);
        }
        body {
            margin: 0;
            font-family: 'Playfair Display', serif;
            background: linear-gradient(to bottom, #F6E8DC, #EED6C4);
            color: var(--text-primary);
            min-height: 100vh;
            overflow: hidden; /* Locked initially */
            transition: all 1.2s ease-in-out;
        }
        #lock-screen {
            position: fixed;
            inset: 0;
            background: var(--bg-primary);
            backdrop-filter: blur(8px);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
            opacity: 1;
            transition: opacity 1.2s ease-in-out, transform 1.2s ease-in-out;
            transform: scale(1);
        }
        #lock-screen.hidden {
            opacity: 0;
            transform: scale(0.98);
            pointer-events: none;
        }
        #countdown {
            font-size: 2.5rem;
            margin-top: 2rem;
            font-weight: bold;
            color: var(--accent);
        }
        #main-content {
            opacity: 0;
            transform: scale(0.98);
            transition: opacity 1.2s ease-in-out, transform 1.2s ease-in-out;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        #main-content.revealed {
            opacity: 1;
            transform: scale(1);
            overflow-y: auto;
        }
        .hero {
            text-align: center;
            padding: 4rem 1rem;
            position: relative;
        }
        .hero h1 {
            font-family: 'Great Vibes', cursive;
            font-size: 5rem;
            color: var(--text-primary);
            margin: 0;
        }
        .hero .quote {
            font-style: italic;
            font-size: 1.4rem;
            margin: 2rem 0;
            position: relative;
        }
        .hero .quote::after {
            content: '';
            display: block;
            width: 100px;
            height: 2px;
            background: var(--accent);
            margin: 1rem auto;
        }
        .heart {
            font-size: 2rem;
            color: var(--accent);
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
        }
        .heart.left { left: 10%; }
        .heart.right { right: 10%; }
        /* Image Strip */
        .carousel {
            position: relative;
            max-width: 100%;
            margin: 3rem auto;
            overflow: visible;
            overflow-x: visible;
            overflow-y: hidden;
            border-radius: 0;
            box-shadow: none;
            padding: 0 10px;
        }
        .slides {
            display: flex;
            transition: none;
            gap: 8px;
            width: 100%;
            justify-content: space-between;
            flex-wrap: nowrap;
        }
        .slide {
            flex: 1 1 auto;
            min-width: 0;
            flex-shrink: 1;
            box-sizing: border-box;
        }
        .slide img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 15px;
            box-shadow: 0 10px 30px var(--shadow);
            display: block;
        }
        @media (min-width: 1200px) {
            .carousel { padding: 0 15px; }
            .slide { min-width: 0; }
            .slide img { height: 220px; }
        }
        @media (min-width: 768px) and (max-width: 1199px) {
            .carousel { padding: 0 10px; }
            .slides { gap: 6px; }
            .slide { min-width: 0; }
            .slide img { height: 180px; }
        }
        @media (max-width: 767px) {
            .carousel { padding: 0 8px; }
            .slides { gap: 5px; }
            .slide { min-width: 0; }
            .slide img { height: 140px; }
        }
        @media (max-width: 430px) {
            .carousel { padding: 0 5px; }
            .slides { gap: 4px; }
            .slide { min-width: 0; }
            .slide img { height: 120px; }
        }
        /* Grid */
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin-top: 4rem;
        }
        @media (max-width: 900px) {
            .grid { grid-template-columns: 1fr; }
        }
        .section h2 {
            font-family: 'Dancing Script', cursive;
            font-size: 3rem;
            text-align: center;
            color: var(--accent);
            margin-bottom: 1.5rem;
        }
        .paragraph {
            font-size: 1.2rem;
            line-height: 1.8;
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
        }
        .letter-card {
            background: url('https://www.transparenttextures.com/patterns/old-wall.png'), var(--bg-secondary);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 10px 20px var(--shadow);
            transform: rotate(-1deg);
            margin: 2rem auto;
            max-width: 500px;
            font-family: 'Dancing Script', cursive;
            font-size: 1.4rem;
            line-height: 2;
        }
        .envelopes {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1.5rem;
        }
        .envelope {
            aspect-ratio: 1/0.7;
            background: var(--bg-secondary);
            border-radius: 10px;
            box-shadow: 0 8px 20px var(--shadow);
            cursor: pointer;
            transition: transform 0.4s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: var(--accent);
        }
        .envelope:hover { transform: scale(1.1) rotate(5deg); }
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(90, 62, 54, 0.6);
            backdrop-filter: blur(5px);
            align-items: center;
            justify-content: center;
            z-index: 200;
        }
        .modal.active { display: flex; }
        .modal-content {
            background: var(--bg-secondary);
            padding: 2rem;
            border-radius: 15px;
            max-width: 500px;
            text-align: center;
            box-shadow: 0 20px 40px var(--shadow);
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            line-height: 1.8;
            transform: scale(0.9);
            transition: transform 0.5s ease;
        }
        .modal.active .modal-content { transform: scale(1); }
        .close { cursor: pointer; font-size: 2rem; color: var(--accent); margin-top: 1rem; display: block; }

        /* ========== Valentine Widget Styles ========== */
        .valentine-widget-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 65px;
            height: 65px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent), #c4956a);
            border: none;
            cursor: pointer;
            font-size: 1.8rem;
            box-shadow: 0 8px 25px rgba(212, 163, 115, 0.4);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .valentine-widget-btn:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 12px 35px rgba(212, 163, 115, 0.5);
        }
        .valentine-widget-btn.hidden { display: none; }
        .valentine-widget-btn.widget-locked { 
            display: none !important; 
        }

        /* ========== Relationship Timeline Counters ========== */
        .relationship-timers {
            margin-top: 2.5rem;
            padding: 0;
        }
        .relationship-timers h2 {
            font-family: 'Dancing Script', cursive;
            font-size: 2rem;
            text-align: center;
            color: var(--accent);
            margin-bottom: 1.5rem;
        }
        .timers-container {
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
        }
        .timer-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.15), rgba(255,255,255,0.05));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(212, 163, 115, 0.3);
            border-radius: 16px;
            padding: 1.2rem;
            text-align: center;
            box-shadow: 
                0 6px 24px rgba(90, 62, 54, 0.12),
                inset 0 1px 0 rgba(255,255,255,0.2);
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .timer-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 200%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        .timer-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(90, 62, 54, 0.18);
        }
        .timer-icon {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
            display: block;
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        .timer-title {
            font-family: 'Dancing Script', cursive;
            font-size: 1.3rem;
            color: var(--accent);
            margin-bottom: 0.3rem;
        }
        .timer-subtitle {
            font-size: 0.8rem;
            color: var(--text-secondary);
            opacity: 0.8;
            margin-bottom: 0.8rem;
        }
        .timer-display {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 0.4rem;
        }
        .timer-unit {
            background: linear-gradient(180deg, var(--bg-primary), var(--bg-secondary));
            border-radius: 10px;
            padding: 0.4rem 0.5rem;
            min-width: 40px;
            box-shadow: 
                0 3px 8px rgba(90, 62, 54, 0.1),
                inset 0 -2px 0 rgba(0,0,0,0.05);
        }
        .timer-value {
            font-family: 'Playfair Display', serif;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
            display: block;
            line-height: 1.2;
        }
        .timer-label {
            font-size: 0.55rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            opacity: 0.7;
        }
        /* Mobile: Full width outside grid flow */
        @media (max-width: 900px) {
            .relationship-timers {
                margin-top: 3rem;
                padding: 0 1rem;
            }
            .relationship-timers h2 {
                font-size: 2.5rem;
            }
            .timers-container {
                gap: 1.5rem;
            }
            .timer-card {
                padding: 1.5rem;
                border-radius: 20px;
            }
            .timer-icon {
                font-size: 2.2rem;
            }
            .timer-title {
                font-size: 1.5rem;
            }
            .timer-unit {
                min-width: 45px;
                padding: 0.5rem 0.6rem;
            }
            .timer-value {
                font-size: 1.3rem;
            }
            .timer-label {
                font-size: 0.6rem;
            }
        }

        .valentine-panel {
            position: fixed;
            bottom: 110px;
            right: 30px;
            width: 380px;
            max-height: 500px;
            background: linear-gradient(145deg, var(--bg-secondary), #f5e6d8);
            border-radius: 20px;
            box-shadow: 0 20px 50px rgba(90, 62, 54, 0.25);
            padding: 0;
            opacity: 0;
            transform: translateY(20px) scale(0.95);
            pointer-events: none;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 999;
            overflow: hidden;
        }
        .valentine-panel.open {
            opacity: 1;
            transform: translateY(0) scale(1);
            pointer-events: all;
        }
        .valentine-panel-header {
            background: linear-gradient(135deg, var(--accent), #c4956a);
            padding: 1.2rem 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .valentine-panel-header h3 {
            margin: 0;
            font-family: 'Dancing Script', cursive;
            font-size: 1.6rem;
            color: white;
        }
        .valentine-panel-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            opacity: 0.8;
            transition: opacity 0.3s;
        }
        .valentine-panel-close:hover { opacity: 1; }

        .valentine-panel-body {
            padding: 1.5rem;
            min-height: 200px;
            display: flex;
            flex-direction: column;
        }
        .valentine-message {
            font-family: 'Playfair Display', serif;
            font-size: 1.1rem;
            color: var(--text-primary);
            line-height: 1.7;
            margin-bottom: 1.5rem;
            min-height: 60px;
        }
        .valentine-message .typing-cursor {
            display: inline-block;
            width: 2px;
            height: 1.1rem;
            background: var(--accent);
            margin-left: 3px;
            animation: blink 0.8s infinite;
        }
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .valentine-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: auto;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.4s ease;
        }
        .valentine-buttons.show {
            opacity: 1;
            transform: translateY(0);
        }
        .valentine-btn {
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 25px;
            font-family: 'Dancing Script', cursive;
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .valentine-btn-yes {
            background: linear-gradient(135deg, #e8a4a4, #d4756a);
            color: white;
        }
        .valentine-btn-yes:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(212, 117, 106, 0.4);
        }
        .valentine-btn-no {
            background: transparent;
            color: var(--text-secondary);
            border: 2px solid var(--text-secondary);
        }
        .valentine-btn-no:hover {
            background: var(--text-secondary);
            color: white;
        }

        .valentine-progress {
            display: flex;
            justify-content: center;
            gap: 6px;
            margin-top: 1.2rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(212, 163, 115, 0.2);
        }
        .valentine-progress-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(212, 163, 115, 0.3);
            transition: all 0.3s ease;
        }
        .valentine-progress-dot.active {
            background: var(--accent);
            transform: scale(1.2);
        }
        .valentine-progress-dot.answered {
            background: #c4956a;
        }

        .valentine-final-message {
            text-align: center;
            padding: 1rem 0;
        }
        .valentine-final-message .heart-animation {
            font-size: 3rem;
            animation: heartbeat 1s infinite;
        }
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }

        /* Responsive */
        @media (max-width: 480px) {
            .valentine-widget-btn {
                bottom: 20px;
                right: 20px;
                width: 55px;
                height: 55px;
                font-size: 1.5rem;
            }
            .valentine-panel {
                bottom: 90px;
                right: 15px;
                left: 15px;
                width: auto;
                max-height: 70vh;
            }
            .valentine-btn {
                padding: 0.7rem 1.5rem;
                font-size: 1.1rem;
            }
        }
        @media (min-width: 481px) and (max-width: 768px) {
            .valentine-panel {
                width: 340px;
                right: 25px;
            }
        }
    </style>
</head>
<body>
    <!-- Lock Screen -->
    <div id="lock-screen">
        <p style="font-size:2.5rem; text-align:center;">Something special is waiting for you ðŸ’–</p>
        <div id="countdown">Calculating...</div>
    </div>

    <!-- Main Content -->
    <div id="main-content">
        <div class="hero">
            <h1>Happy Birthday, Alfiya</h1>
            <p class="quote">
                This is for you â€” because in all the vast recorded time, I am grateful you exist, and I love you deeply.
            </p>
            <span class="heart left">â™¡</span>
            <span class="heart right">â™¡</span>
        </div>

        <!-- Photo Carousel -->
        <div class="carousel">
            <div class="slides" id="slides">
                <!-- Replace these src with your actual couple photos -->
                <div class="slide"><img src="assets/images/solo1.jpg" alt="Memory 1"></div>
                <div class="slide"><img src="assets/images/solo2.jpg" alt="Memory 2"></div>
                <div class="slide"><img src="assets/images/solo3.jpg" alt="Memory 3"></div>
                <div class="slide"><img src="assets/images/solo4.jpg" alt="Memory 4"></div>
                <div class="slide"><img src="assets/images/solo5.jpg" alt="Memory 5"></div>
            </div>
        </div>

        <!-- Grid Sections -->
        <div class="grid">
            <div class="section">
                <h2>Iâ€™m Proud of You</h2>
                <p class="paragraph">
                    <i>You are in my heart. You shall be in there forever.
 My greatest wish is that you are happy when you think of me.
 I am when I think of you.</i>
                </p>
                <div class="letter-card">
                    We were so, so different.
                    You called me self-absorbent.
                    I called you the love of my life.
                    You said weâ€™d do everything together,
                    and suddenly you didnâ€™t want to be my wife.
                    But I donâ€™t mind that.
                    I donâ€™t want to capture the very heart
                    Iâ€™ve grown so fond of.
                    But you were the only one.
                    I loved this fully,
                    so it feels a little tough.
                    And we were so, so different.
                    You called me bland,
                    but you were the perfect blend
                    of all the books youâ€™d read.
                    You told me I was heaven,
                    but then you forgot what you said.
                    And itâ€™s all good,
                    because I loved you for who you were.
                    But I donâ€™t think I could love you again,
                    because youâ€™d make me cry
                    when you closed the door.
                    You slammed it in my face.
                    You forgot that I, too, have feelings.
                    Then I had to spend some months in my bed,
                    just reeling and reeling.
                    And oh godâ€¦
                    we were so, so different.
                    I loved you like you were my world.
                    I picked up every time you called.
                    But you loved me like a chore.
                    One day you were all excited,
                    the next day I was such a bore.
                    So, so different.
                    You were the best part of me,
                    so I called you the love of my life.
                    You said weâ€™d do everything together,
                    and suddenly you didnâ€™t want to be my wife.
                </div>
            </div>

            <div class="section">
                <h2>Messages for You</h2>
                <div class="envelopes">
                    <div class="envelope" data-message="You will be always in my heart, i can't Stop thinking about 
                    you. Ours memories hits me every second every minute every hour every day every month every year, 
                    I have never never tried to get over it because you are more than love, i want to stay forever into you, 
                    with you or after you, I will never going to move on">âœ‰</div>
                    <div class="envelope" data-message="My darling you will be never unloved by me â™¡
                    you have grown too deep inside me,
                    You woven into my thoughts tangled in my soul impossible to undo even on the quite days,
                    Even when we drift apart,
                    YOU remain a part of me thats always felt like Home">âœ‰</div>
                    <div class="envelope" data-message="I loved you even when it hurt me the most 
                    I loved you even when it felt like my heart was bleeding out.
                    I tried to fill this silence but the void cannot be filled if it isn't you.
                    It has your shape and i am still waiting for you to come back and fill it.">âœ‰</div>
                    <div class="envelope" data-message="We were the best book i never finished 
                    We had the perfect plot we had the perfect chemistry 
                    We just ran out of pages 
                    A masterpiece that nobody will ever get to read
                    We ran out of pages, not of love-just of time.
                    Our story didn't end, it paused mid-sentence, 
                    ink still wet with what ifs. We closed the book, 
                    went our separate ways, carrying the same chapter in different hearts.">âœ‰</div>
                    <div class="envelope" data-message="If you aren't busy for the next like..... 70 years-ish, I'd love to spend them with you my love ">âœ‰</div>
                    <div class="envelope" data-message="I miss you a little extra on days when i achieve Something and want to tell you first!">âœ‰</div>
                    <div class="envelope" data-message=" tried to find the line where I end and you begin, but seriously I couldn't.
                    You are so tangled in my soul in ways I could never undo.
                    You are woven into the fabric of my life.
                    My darling, you will be never unloved because you are me.">âœ‰</div>
                    <div class="envelope" data-message="Mujhe to bas tu chahiye 
                    Na tujhse behtar chahiye na tere jesa chahiye 
                    Mujhe to sirf tu chahiye ,,
                    Tujhse mohabbat krna hai galat to mujhe to mujhe us galat ki saza chahiye, 
                    Magar haan .....
                    Us saza ke baad mujhe bs Tu or bs tu chahiye ,
                    Manjoor h mujhe logo ki bhalo buri baate sunna ,
                    Par un Bhali buri baaton ke baad mujhe sirf  tu chahiye,
                    Har Pal Har Lamha Har Waqt ....
                    Tu Chahiye">âœ‰</div>
                </div>

                <!-- Relationship Timeline Counters -->
                <div class="relationship-timers">
                    <h2>Our Timeline ðŸ’«</h2>
                    <div class="timers-container">
                        <!-- Timer 1: Since We Started Dating -->
                        <div class="timer-card">
                            <span class="timer-icon">ðŸ’‘</span>
                            <div class="timer-title">Since We Started Dating</div>
                            <div class="timer-subtitle">Every moment counts...</div>
                            <div class="timer-display" id="datingTimer">
                                <div class="timer-unit"><span class="timer-value">0</span><span class="timer-label">Years</span></div>
                                <div class="timer-unit"><span class="timer-value">0</span><span class="timer-label">Months</span></div>
                                <div class="timer-unit"><span class="timer-value">0</span><span class="timer-label">Days</span></div>
                                <div class="timer-unit"><span class="timer-value">0</span><span class="timer-label">Hours</span></div>
                                <div class="timer-unit"><span class="timer-value">0</span><span class="timer-label">Mins</span></div>
                                <div class="timer-unit"><span class="timer-value">0</span><span class="timer-label">Secs</span></div>
                            </div>
                        </div>

                        <!-- Timer 2: Since We First Met -->
                        <div class="timer-card">
                            <span class="timer-icon">âœ¨</span>
                            <div class="timer-title">Since We Last Met</div>
                            <div class="timer-subtitle">When i got to see you again ...</div>
                            <div class="timer-display" id="meetTimer">
                                <div class="timer-unit"><span class="timer-value">0</span><span class="timer-label">Years</span></div>
                                <div class="timer-unit"><span class="timer-value">0</span><span class="timer-label">Months</span></div>
                                <div class="timer-unit"><span class="timer-value">0</span><span class="timer-label">Days</span></div>
                                <div class="timer-unit"><span class="timer-value">0</span><span class="timer-label">Hours</span></div>
                                <div class="timer-unit"><span class="timer-value">0</span><span class="timer-label">Mins</span></div>
                                <div class="timer-unit"><span class="timer-value">0</span><span class="timer-label">Secs</span></div>
                            </div>
                        </div>

                        <!-- Timer 3: Since We Parted Ways -->
                        <div class="timer-card">
                            <span class="timer-icon">ðŸ¥€</span>
                            <div class="timer-title">Since We Parted Ways</div>
                            <div class="timer-subtitle">Distance in time, not in heart...</div>
                            <div class="timer-display" id="breakupTimer">
                                <div class="timer-unit"><span class="timer-value">0</span><span class="timer-label">Years</span></div>
                                <div class="timer-unit"><span class="timer-value">0</span><span class="timer-label">Months</span></div>
                                <div class="timer-unit"><span class="timer-value">0</span><span class="timer-label">Days</span></div>
                                <div class="timer-unit"><span class="timer-value">0</span><span class="timer-label">Hours</span></div>
                                <div class="timer-unit"><span class="timer-value">0</span><span class="timer-label">Mins</span></div>
                                <div class="timer-unit"><span class="timer-value">0</span><span class="timer-label">Secs</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <div id="modal-text"></div>
            <span class="close" onclick="closeModal()">âœ•</span>
        </div>
    </div>

    <!-- Valentine Widget (Hidden until reveal) -->
    <button class="valentine-widget-btn widget-locked" id="valentineBtn" title="A little question for you...">ðŸ’Œ</button>
    
    <div class="valentine-panel" id="valentinePanel">
        <div class="valentine-panel-header">
            <h3>A Quiet Conversation...</h3>
            <button class="valentine-panel-close" id="valentinePanelClose">âœ•</button>
        </div>
        <div class="valentine-panel-body">
            <div class="valentine-message" id="valentineMessage"></div>
            <div class="valentine-buttons" id="valentineButtons">
                <button class="valentine-btn valentine-btn-yes" id="btnYes">Yes ðŸ’•</button>
                <button class="valentine-btn valentine-btn-no" id="btnNo">No</button>
            </div>
            <div class="valentine-progress" id="valentineProgress"></div>
        </div>
    </div>

    <script>
        const revealDate = new Date("2026-02-13T00:00:00");
        const lockScreen = document.getElementById('lock-screen');
        const mainContent = document.getElementById('main-content');
        const countdownEl = document.getElementById('countdown');

        // ========== Relationship Timeline Timers ==========
        // IMPORTANT: Update these dates to your actual dates!
        const relationshipDates = {
            startedDating: new Date("2017-05-12T00:00:00"),  // When you started dating
            firstMet: new Date("2024-10-09T00:00:00"),       // When you last met
            brokeUp: new Date("2023-03-23T00:00:00")          // When you broke up
        };

        function calculateElapsedTime(startDate) {
            const now = new Date();
            let diff = now - startDate;
            
            if (diff < 0) diff = 0;

            const years = Math.floor(diff / (1000 * 60 * 60 * 24 * 365.25));
            diff -= years * (1000 * 60 * 60 * 24 * 365.25);

            const months = Math.floor(diff / (1000 * 60 * 60 * 24 * 30.44));
            diff -= months * (1000 * 60 * 60 * 24 * 30.44);

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            diff -= days * (1000 * 60 * 60 * 24);

            const hours = Math.floor(diff / (1000 * 60 * 60));
            diff -= hours * (1000 * 60 * 60);

            const minutes = Math.floor(diff / (1000 * 60));
            diff -= minutes * (1000 * 60);

            const seconds = Math.floor(diff / 1000);

            return { years, months, days, hours, minutes, seconds };
        }

        function updateTimerDisplay(timerId, elapsed) {
            const timerEl = document.getElementById(timerId);
            if (!timerEl) return;

            const units = timerEl.querySelectorAll('.timer-unit .timer-value');
            if (units.length >= 6) {
                units[0].textContent = elapsed.years;
                units[1].textContent = elapsed.months;
                units[2].textContent = elapsed.days;
                units[3].textContent = elapsed.hours;
                units[4].textContent = elapsed.minutes;
                units[5].textContent = elapsed.seconds;
            }
        }

        function updateRelationshipTimers() {
            const datingElapsed = calculateElapsedTime(relationshipDates.startedDating);
            const meetElapsed = calculateElapsedTime(relationshipDates.firstMet);
            const breakupElapsed = calculateElapsedTime(relationshipDates.brokeUp);

            updateTimerDisplay('datingTimer', datingElapsed);
            updateTimerDisplay('meetTimer', meetElapsed);
            updateTimerDisplay('breakupTimer', breakupElapsed);
        }

        function startRelationshipTimers() {
            updateRelationshipTimers();
            setInterval(updateRelationshipTimers, 1000);
        }

        function updateCountdown() {
            const now = new Date();
            const diff = revealDate - now;

            if (diff <= 0) {
                lockScreen.classList.add('hidden');
                mainContent.classList.add('revealed');
                document.body.style.overflow = 'auto';
                // Reveal Valentine widget after timer hits zero
                const valentineWidget = document.getElementById('valentineBtn');
                if (valentineWidget) {
                    valentineWidget.classList.remove('widget-locked');
                }
                // Start relationship timers
                startRelationshipTimers();
                return;
            }

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);

            countdownEl.textContent = `${days}d : ${hours}h : ${minutes}m : ${seconds}s`;
            setTimeout(updateCountdown, 1000);
        }
        updateCountdown();



        // Envelope modals
        document.querySelectorAll('.envelope').forEach(env => {
            env.addEventListener('click', () => {
                document.getElementById('modal-text').textContent = env.dataset.message;
                document.getElementById('modal').classList.add('active');
            });
        });

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        // ========== Valentine Widget Logic ==========
        (function() {
            const questions = [
                { 
                    intro: "Main ek thoda serious sawaal pooch sakta hoon?", 
                    question: "You don't owe me anythingâ€”just honesty. Can I ask?",
                    yesResponse: "Thank you for staying.",
                    noResponse: "I understand. Thank you anyway."
                },
                { 
                    intro: "Kya tumhe yaad hai jab hum pehle baat karte theâ€¦", 
                    question: "Aur cheezein simple si lagti thi?",
                    yesResponse: "Time changes thingsâ€¦ sometimes feelings too.",
                    noResponse: "Maybe some memories fade. That's okay."
                },
                { 
                    intro: "Kabhi aisa laga hai ki tumhe samjha jaa raha haiâ€¦", 
                    question: "Par poori tarah suna nahi jaa raha?",
                    yesResponse: "That silence says a lot.",
                    noResponse: "I'm glad you feel heard."
                },
                { 
                    intro: "Sach sach bataoâ€”", 
                    question: "Kya humare beech kabhi aisi baat thi jo tum kehna chahti thi, par keh nahi paayi?",
                    yesResponse: "Some words stay heavy.",
                    noResponse: "Thank you for being open with me."
                },
                { 
                    intro: "Main yeh pooch raha hoon kyunki main mature hoonâ€”", 
                    question: "Mere alawa, kya tumhe kisi aur ke liye feelings hain?",
                    yesResponse: "Honesty matters more than comfort.",
                    noResponse: "Honesty matters more than comfort."
                },
                { 
                    intro: "Kya tumhe lagta hai ki tum apne dil ke saathâ€¦", 
                    question: "Poori imaandaar ho?",
                    yesResponse: "This question isn't easy. I know.",
                    noResponse: "This question isn't easy. I know."
                },
                { 
                    intro: "Kabhi mujhe yaad karke yeh socha haiâ€”", 
                    question: "'Things could've been different'?",
                    yesResponse: "Some thoughts don't leave quietly.",
                    noResponse: "I respect that."
                },
                { 
                    intro: "Abhi iss pal meinâ€¦", 
                    question: "Kya tumhara dil thoda sa khula hua hai?",
                    yesResponse: "Thank you for being here till now.",
                    noResponse: "Thank you for being here till now."
                },
                { 
                    intro: "Okay... here it is. The real question... ðŸ’•", 
                    question: "Will you be my Valentine?",
                    isFinal: true 
                }
            ];

            const yesEndingMessage = "You just made my heart skip a beat... ðŸ’“\n\nI promise to make every moment with you feel like home.\n\nHappy Valentine's Day, my love.";
            const noEndingMessage = "That's okay... ðŸŒ·\n\nI'll still be here, quietly cheering for you.\nTake care of yourself, always.";

            let currentQuestion = 0;
            let answers = [];
            let isTyping = false;

            const widgetBtn = document.getElementById('valentineBtn');
            const panel = document.getElementById('valentinePanel');
            const panelClose = document.getElementById('valentinePanelClose');
            const messageEl = document.getElementById('valentineMessage');
            const buttonsEl = document.getElementById('valentineButtons');
            const progressEl = document.getElementById('valentineProgress');
            const btnYes = document.getElementById('btnYes');
            const btnNo = document.getElementById('btnNo');

            // Initialize progress dots
            function initProgress() {
                progressEl.innerHTML = '';
                questions.forEach((_, i) => {
                    const dot = document.createElement('span');
                    dot.className = 'valentine-progress-dot';
                    if (i === 0) dot.classList.add('active');
                    progressEl.appendChild(dot);
                });
            }

            function updateProgress() {
                const dots = progressEl.querySelectorAll('.valentine-progress-dot');
                dots.forEach((dot, i) => {
                    dot.classList.remove('active');
                    if (i < currentQuestion) dot.classList.add('answered');
                    if (i === currentQuestion) dot.classList.add('active');
                });
            }

            // Typing effect
            function typeText(text, callback) {
                isTyping = true;
                buttonsEl.classList.remove('show');
                messageEl.innerHTML = '';
                let i = 0;
                const cursor = document.createElement('span');
                cursor.className = 'typing-cursor';
                
                function type() {
                    if (i < text.length) {
                        messageEl.textContent = text.substring(0, i + 1);
                        messageEl.appendChild(cursor);
                        i++;
                        setTimeout(type, 30 + Math.random() * 20);
                    } else {
                        cursor.remove();
                        isTyping = false;
                        if (callback) callback();
                    }
                }
                type();
            }

            // Show current question
            function showQuestion() {
                const q = questions[currentQuestion];
                typeText(q.intro, () => {
                    setTimeout(() => {
                        typeText(q.question, () => {
                            buttonsEl.classList.add('show');
                            if (q.isFinal) {
                                btnYes.textContent = 'Yes â¤ï¸';
                                btnNo.textContent = 'No ðŸŒ·';
                            } else {
                                btnYes.textContent = 'Yes ðŸ’•';
                                btnNo.textContent = 'No';
                            }
                        });
                    }, 600);
                });
            }

            // Handle answer
            function handleAnswer(answer) {
                if (isTyping) return;

                answers.push({ question: currentQuestion + 1, answer: answer });
                sendAnswer(currentQuestion + 1, answer);

                const q = questions[currentQuestion];
                
                if (q.isFinal) {
                    showEnding(answer === 'yes');
                    return;
                }

                // Use custom response for this question
                const response = answer === 'yes' ? q.yesResponse : q.noResponse;

                buttonsEl.classList.remove('show');
                typeText(response, () => {
                    currentQuestion++;
                    updateProgress();
                    setTimeout(showQuestion, 800);
                });
            }

            // Show ending
            function showEnding(isYes) {
                buttonsEl.classList.remove('show');
                progressEl.style.display = 'none';

                const message = isYes ? yesEndingMessage : noEndingMessage;
                const heart = isYes ? 'ðŸ’“' : 'ðŸ’™';

                messageEl.innerHTML = `<div class="valentine-final-message">
                    <div class="heart-animation">${heart}</div>
                </div>`;

                setTimeout(() => {
                    const lines = message.split('\n');
                    let lineIndex = 0;
                    
                    function showLine() {
                        if (lineIndex < lines.length) {
                            const p = document.createElement('p');
                            p.style.opacity = '0';
                            p.style.transform = 'translateY(10px)';
                            p.style.transition = 'all 0.5s ease';
                            p.style.margin = '0.5rem 0';
                            p.style.fontFamily = "'Dancing Script', cursive";
                            p.style.fontSize = '1.3rem';
                            p.textContent = lines[lineIndex];
                            messageEl.querySelector('.valentine-final-message').appendChild(p);
                            
                            setTimeout(() => {
                                p.style.opacity = '1';
                                p.style.transform = 'translateY(0)';
                            }, 50);
                            
                            lineIndex++;
                            setTimeout(showLine, 400);
                        }
                    }
                    showLine();
                }, 500);
            }

            // Formspree - sends each answer directly to your email
            function sendAnswer(questionNumber, answer) {
                const questionText = questions[questionNumber - 1]?.question || 'Unknown';
                
                fetch('https://formspree.io/f/mojnqkbl', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        question_number: questionNumber,
                        question_text: questionText,
                        answer: answer,
                        timestamp: new Date().toLocaleString()
                    })
                }).then(
                    () => console.log(`Q${questionNumber} sent successfully`),
                    (error) => console.error('Failed to send:', error)
                );
            }

            // Event listeners
            widgetBtn.addEventListener('click', () => {
                panel.classList.add('open');
                widgetBtn.classList.add('hidden');
                if (currentQuestion === 0 && messageEl.textContent === '') {
                    initProgress();
                    showQuestion();
                }
            });

            panelClose.addEventListener('click', () => {
                panel.classList.remove('open');
                widgetBtn.classList.remove('hidden');
            });

            btnYes.addEventListener('click', () => handleAnswer('yes'));
            btnNo.addEventListener('click', () => handleAnswer('no'));

            // Reset function (for testing)
            window.resetValentineWidget = function() {
                currentQuestion = 0;
                answers = [];
                messageEl.innerHTML = '';
                buttonsEl.classList.remove('show');
                progressEl.style.display = 'flex';
                initProgress();
                showQuestion();
            };
        })();
    </script>
</body>
</html>
